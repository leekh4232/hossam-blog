---
layout: post
title:  "[R] μ”μΈ(Factor)"
date:   2022-12-06
banner_image: index-r.png
tags: [R]
---

μ”μΈ(factor)μ€ λ²”μ£Όν• λ°μ΄ν„°λ¥Ό μ„ν• λ°μ΄ν„° νƒ€μ…μΌλ΅ μ£Όμ–΄μ§„ λ²”μ„ λ‚΄μ—μ„λ§ κ°’μ„ ν• λ‹Ήν•  μ μμµλ‹λ‹¤.



# #01. μ”μΈ(factor) λ§λ“¤κΈ°

`factor`λ” κ°’ νΉμ€ κ°’μ— λ€ν• λ²”μ£Όλ¥Ό μλ―Έν•λ” λ²΅ν„°μ΄λ‹¤.

## 1) μμ„ μ—†λ” λ²”μ£Ό

### **μ„±λ³„ ν‘ν„ν•κΈ°**

- factorκ°€ ν¬ν•¨ν•  μ μλ” κ°’μ€ λ²”μ£Ό λ²΅ν„°μ— λ‚μ—΄λ κ°’ μ¤‘ ν•λ‚λ§ κ°€λ¥ν•¨.

```r
gender <- factor('m', c('m', 'f'))
print(gender)
```

#### π’» μ¶λ ¥κ²°κ³Ό

```r
[1] m
Levels: m f
```

### λ²”μ£Όλ¥Ό λ²—μ–΄λ‚ κ²½μ°

- λ²”μ£Όλ¥Ό λ²—μ–΄λ‚ κ°’μ„ μ§€μ •ν•  κ²½μ° `<NA>`κ°€ λ¨.

```r
gender <- factor('k', c('m', 'f'))
print(gender)
```

#### π’» μ¶λ ¥κ²°κ³Ό

```r
[1] <NA>
Levels: m f
```

## 2) λ°±ν„°λ‚ ν–‰λ ¬μ„ κ°’μΌλ΅ κ°–λ” μ”μΈ

μλ¥Ό λ“¤μ–΄ μ„¤λ¬Έμ΅°μ‚¬λ¥Ό ν•λ‹¤κ³  ν•  λ•, μ”μΈμ€ μ‘λ‹µμκ°€ λ‹µν•  μ μλ” λ‹µμ μΆ…λ¥λ¥Ό μ ν•ν•¨.

### **μΆ‹μ•„ν•λ” κ³„μ μ„ λ¨λ‘ κ³ λ¥΄κΈ°**

μ—¬λ¦„,κ°€μ„μ€ λ²”μ£Όμ— μ†ν•΄ μμ§€λ§, Winterλ” λ²”μ£Όμ— μ†ν• κ°’μ΄ μ•„λ‹λ―€λ΅ NAκ°€ λ¨.

```r
fav_season <- factor(c('μ—¬λ¦„','κ°€μ„','Winter'), c('λ΄„', 'μ—¬λ¦„', 'κ°€μ„', 'κ²¨μΈ'))
print(fav_season)
```

#### π’» μ¶λ ¥κ²°κ³Ό

```r
[1] μ—¬λ¦„ κ°€μ„ <NA>
Levels: λ΄„ μ—¬λ¦„ κ°€μ„ κ²¨μΈ
```

## 3) μμ„ μλ” λ²”μ£Ό λ§λ“¤κΈ°

### λ°©λ²•(1) - factor ν•¨μμ— ordered=TRUE λΌλ” μµμ…κ°’μ„ μ¶”κ°€.

λ‘ λ²μ§Έ νλΌλ―Έν„°λ΅ μ§€μ •λ λ°±ν„°μ μμ„λ€λ΅ κ²°μ •λ¨.

```r
result <- factor('good', c('bad', 'normal', 'good'), ordered=TRUE)
print(result)
```

#### π’» μ¶λ ¥κ²°κ³Ό

```r
[1] good
Levels: bad < normal < good
```

### λ°©λ²•(2) - ordered ν•¨μ μ‚¬μ©

`ordered()`ν•¨μμ λ‘ λ²μ§Έ νλΌλ―Έν„°λ΅ μ „λ‹¬ν•λ” λ°±ν„°κ°€ κ°’μ μμ„κ°€ λ¨.

```r
grade <- ordered(c(1, 2), c(4, 3, 2, 1))
print(grade)
```

#### π’» μ¶λ ¥κ²°κ³Ό

```r
[1] 1 2
Levels: 4 < 3 < 2 < 1
```

# #02. μ”μΈκ³Ό κ΄€λ ¨λ ν•¨μ(λ…λ Ήμ–΄)

## 1) λ²”μ£Όμ μ μ΅°νν•κΈ°

- `nlevels()` ν•¨μλ” νλΌλ―Έν„°λ΅ μ „λ‹¬λ λ²”μ£Όμ ν•­λ© μλ¥Ό λ°ν™ν•¨.
- λ³΄κΈ°μ ν•­λ©μλ¥Ό μ΅°νν•λ” κ²ƒμΌλ΅ μ΄ν•΄ν•μ.

### **λ²”μ£Όμ ν•­λ© μ μ΅°ν**

```r
fav_season <- factor(c('μ—¬λ¦„','κ°€μ„','Winter'), c('λ΄„', 'μ—¬λ¦„', 'κ°€μ„', 'κ²¨μΈ'))
cnt <- nlevels(fav_season)
print(cnt)
```

#### π’» μ¶λ ¥κ²°κ³Ό

```r
4
```

## 2) λ²”μ£Όμ ν•­λ©

`levels()` ν•¨μλ” λ²”μ£Όμ ν•­λ© μμ²΄λ¥Ό λ°ν™ν•¨.

### **λ²”μ£Όμ ν•­λ© μ΅°ν**

```r
fav_season <- factor(c('μ—¬λ¦„','κ°€μ„','Winter'), c('λ΄„', 'μ—¬λ¦„', 'κ°€μ„', 'κ²¨μΈ'))
lvl <- levels(fav_season)
print(lvl)
```

#### π’» μ¶λ ¥κ²°κ³Ό

```r
"λ΄„" "μ—¬λ¦„" "κ°€μ„" "κ²¨μΈ"
```

## 3) λ²”μ£Ό λ³€κ²½

- λ²”μ£Όμ ν•­λ©μ„ μλ―Έν•λ” `levels(λ²”μ£Ό)`μ— μƒλ΅μ΄ λ²”μ£Όλ¥Ό μλ―Έν•λ” λ°±ν„°λ¥Ό μ£Όμ…ν•μ—¬ λ²”μ£Όμ ν•­λ©λ“¤μ„ λ³€κ²½
- κΈ°μ΅΄μ— μ €μ¥λμ–΄ μλ κ°’μ€ μƒλ΅­κ² μ μ©λ λ²”μ£Ό ν•­λ©μ— λ€μ‘λλ” κ°’μΌλ΅ λ³€κ²½λ¨.

### **λ²”μ£Ό ν•­λ© λ³€κ²½ν•κΈ°**

```r
fav_season <- factor('μ—¬λ¦„', c('λ΄„', 'μ—¬λ¦„', 'κ°€μ„', 'κ²¨μΈ'))
print(fav_season)

# λ³΄κΈ° ν•­λ©μ„ μλ¬ΈμΌλ΅ λ³€κ²½
levels(fav_season) <- c('Spring', 'Summer', 'Fall', 'Winter')

# κΈ°μ΅΄μ— μ €μ¥λμ–΄ μλ μ—¬λ¦„μ€ μƒλ΅μ΄ λ²”μ£Όμ— λ€μ‘λλ” Summerλ΅ λ³€κ²½λλ‹¤.
print(fav_season)
```

#### π’» μ¶λ ¥κ²°κ³Ό

```r
[1] μ—¬λ¦„
Levels: λ΄„ μ—¬λ¦„ κ°€μ„ κ²¨μΈ
[1] Summer
Levels: Spring Summer Fall Winter
```